name: GitHub Actions Demo
on: [push]
jobs:
  Unit-Tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: ls -al
      - run: python3 job.py
      - run: python3 test_moy.py
  Docker:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: docker -v
      - run : docker built -t flask_app .
      - run : docker tag flask_app username/projet:latest
      - run : docker login -u username -p secrets.DOCKER_REGISTRY_PASSWORD
      - run : docker push username/projet:latest

